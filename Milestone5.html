<html>
<head>
	<title>Quiz</title>
</head>

<body onload="createQuiz()">
    <p id="answer"></p>
    <script>
        var arraySh = new Array();
        var array1 = new Array();
        array1[0] = new Array();
        array1[1] = new Array();
        array1[2] = new Array();
        array1[3] = new Array();
        var str = 0;
        var g = 2;
        var numOfQuest = 0;

        //Question with answers into an array
        array1[0][0] = "What is the name of our country?";
        array1[0][1] = "United States";
        array1[0][2] = "United States";
        array1[0][3] = "Canada";
        array1[0][4] = "Mexico";
        array1[0][5] = "Cuba";

        //Question with answers into an array
        array1[1][0] = "What is the name of the biggest state in the United States?";
        array1[1][1] = "Alaska";
        array1[1][2] = "Tennessee";
        array1[1][3] = "Colorado";
        array1[1][4] = "California";
        array1[1][5] = "Alaska";

        //Question with answers into an array
        array1[2][0] = "How many states are in the United States";
        array1[2][1] = "50";
        array1[2][2] = "50";
        array1[2][3] = "51";
        array1[2][4] = "49";
        array1[2][5] = "45";
        
        //Question with answers into an array
        array1[3][0] = "What continent is our country in?";
        array1[3][1] = "North America";
        array1[3][2] = "Sourth America";
        array1[3][3] = "Asia";
        array1[3][4] = "Africa";
        array1[3][5] = "North America";

        //This function shuffles all the answers in each question.
        function shuffle(a)
        {  
            var ranNum = Math.floor(Math.random() * 10);
            while (ranNum != 0)
            {
                arraySh[0] = array1[a][3];
                arraySh[1] = array1[a][5];
                arraySh[2] = array1[a][2];
                arraySh[3] = array1[a][4];

                for (y = 0; y <= 4; ++y)
                {
                    array1[a][g] = arraySh[y];
                    g++;
                }
                ranNum--;
            }
        }

        //This function compares two parts of the array to determain if the question is right
        function checkAnswer()
        {
            //For loop to go through each question
            for(w = 0; w<=str; w++)
            {
                if(document.getElementById("textbox"+w)){
                    var txtInput = document.getElementById("textbox"+w).value.toLowerCase();
                    if(txtInput == array1[w][1].toLowerCase()){
                        document.getElementById("corAns" + w).style.display = "block";
                        document.getElementById("wroAns" + w).style.display = "none";
                    }
                    else{
                        document.getElementById("wroAns" + w).style.display = "block";                            
                        document.getElementById("corAns" + w).style.display = "none";
                    }
                }
                else{
                    //Finds which radio button is selected
                    var chAns = document.getElementsByName(w);
                    //Checks each answer within the question
                    for (c = 0; c < chAns.length; c++) {
                        //If the radio button is checked
                        if (chAns[c].checked) {
                            //If the button checked matchs the correct answer
                            if(array1[w][c+2]==array1[w][1])
                            {
                                document.getElementById("corAns" + w).style.display = "block";
                                document.getElementById("wroAns" + w).style.display = "none";
                            }
                            else{
                                document.getElementById("wroAns" + w).style.display = "block";                            
                                document.getElementById("corAns" + w).style.display = "none";

                            }
                        }
                    }
                }
            }
        }
        
        //This function asks the user for a question count
        function askNumQuestion()
        {
            numOfQuest = prompt("How many questions do you want?");
        }
        
        //This function calls another function to shuffle answers and displays the answers and questions
        function createRadioQuestion()
        {
            //Shuffles between questions
            var rand = Math.floor(Math.random() * 3);

            shuffle(rand);
            
            //Creates question and radio options
            document.write("<div><span id='queNum' style='float:left;'>Question " + (str+1) + "</span>");
            document.write("<span id='corAns" + str + "' style='display: none; color:green; float:left;'>- Correct</span>");
            document.write("<span id='wroAns" + str + "' style='display: none; color:red; float:left;'>- Incorrect</span></div><br>");
            document.write(array1[str][0] + "<br>");
            document.write('<input type="radio" name="' + str + '" id="myId1">' + array1[str][2] + '<br>');
            document.write('<input type="radio" name="' + str + '" id="myId2">' + array1[str][3] + '<br>');
            document.write('<input type="radio" name="' + str + '" id="myId3">' + array1[str][4] + '<br>'); 
            document.write('<input type="radio" name="' + str + '" id="myId4">' + array1[str][5] + '<br><hr>');
            
            str++;
        }
        
        function createTextQuestion()
        {
            document.write("<div><span id='queNum' style='float:left;'>Question " + (str+1) + "</span>");
            document.write("<span id='corAns" + str + "' style='display: none; color:green; float:left;'>- Correct</span>");
            document.write("<span id='wroAns" + str + "' style='display: none; color:red; float:left;'>- Incorrect</span></div><br>");
            document.write(array1[str][0] + "<br>");
            document.write('<input type="text" id="textbox'+str+'" value=""><br><hr>');
            
            str++
        }
        
        //This function combines functions to make a quiz for the user to take
        function createQuiz()
        {
            askNumQuestion();
            
            document.write('<h1>America Quiz</h1>');
            document.write('<p>This is a quiz about the country you live in right now.</p>');
            
            //Determains how many questions are outputed
            while (str < numOfQuest){
                if(Math.floor(Math.random() * 2) == 1){
                    createRadioQuestion();
                }
                else{
                    createTextQuestion();
                }
            }

            //Creates the submit button and reset button
            document.write('<button type="button" onclick="checkAnswer()">Check Answers</button>');
            document.write('<button type="button" onclick="location.reload()">Try Again</button>');
        }


    </script>
</body>
</html>